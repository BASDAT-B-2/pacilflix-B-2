{% extends 'base.html' %}
{% block content %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Favorit</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <style>
        /* Perubahan palet warna */
        :root {
            --primary-color: #4CAF50; /* Green */
            --secondary-color: #008CBA; /* Blue */
            --danger-color: #f44336; /* Red */
        }

        /* Gaya baru untuk judul */
        h1 {
            color: var(--primary-color);
            text-align: center;
        }

        /* Gaya baru untuk button tambah */
        .fav-tayangan button {
            background-color: var(--primary-color);
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }

        /* Gaya baru untuk modal title */
        .modal-title {
            color: var(--primary-color);
        }

        /* Gaya baru untuk modal footer button */
        .modal-footer .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        /* Gaya baru untuk modal footer button */
        .modal-footer .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        /* Gaya baru untuk hapus button */
        .hapus-data {
            background-color: var(--danger-color);
            color: white;
        }

        /* Gaya baru untuk tabel judul */
        table th {
            background-color: var(--primary-color);
            color: white;
        }
    </style>

</head>
<body>
    <h1>Daftar Favorit</h1>
    <div class="modal fade" id="modalTambahFavorit" tabindex="-1" aria-labelledby="modalTambahFavoritLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTambahFavoritLabel">TAMBAH KE DAFTAR FAVORIT</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label for="dropdownDaftarFavorit" class="form-label">Judul Daftar Favorit:</label>
                    <select class="form-select" aria-label="Daftar Favorit" id="dropdownDaftarFavorit">
                        <option value="1">Judul Favorit 1</option>
                        <option value="2">Judul Favorit 2</option>
                        <option value="1">Judul Favorit 3</option>
                        <option value="2">Judul Favorit 4</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                    <button type="button" class="btn btn-primary" id="btnTambahFavorit">Tambah</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tabel Daftar Favorit -->
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Judul</th>
                <th scope="col">Waktu Ditambahkan</th>
                <th scope="col">Aksi</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <div class="fav-tayangan">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalTambahFavorit">
            Tambah
        </button>
    </div>

    <script>
        function tambahKeDaftarFavorit() {
            let dropdown = document.getElementById("dropdownDaftarFavorit");
            let selectedOption = dropdown.options[dropdown.selectedIndex].text;

            let newRow = document.createElement("tr");

            newRow.innerHTML = `
                <td>Judul Tayangan</td>
                <td>${new Date().toLocaleString()}</td>
                <td>
                    <button type="button" class="btn btn-danger btn-sm hapus-data">Hapus</button>
                </td>
            `;
            document.querySelector("tbody").appendChild(newRow);

            // Menutup modal
            let modal = bootstrap.Modal.getInstance(document.getElementById("modalTambahFavorit"));
            modal.hide();
            newRow.querySelector(".hapus-data").addEventListener("click", function() {
                hapusData(newRow);
            });
        }
        function hapusData(row) {
            row.remove();
        }

        document.querySelector("#btnTambahFavorit").addEventListener("click", tambahKeDaftarFavorit);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
{% endblock content %}
