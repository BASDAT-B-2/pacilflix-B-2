{% extends 'base.html' %}
{% block content %}
{% load static %}
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Halaman Series - PacilFlix</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    body {
      background-image: url('https://i.pinimg.com/564x/c1/56/3c/c1563cc3942d5081b510179102629916.jpg');
      background-size: cover;
      color: #ffffff;
    }

    .btn {
      border-radius: 10px;
      margin-right: 10px;
    }

    .btn-unduh {
      background-color: #000000;
      border-color: #000000;
      color: #ffffff;
    }

    .btn-favoritkan {
      background-color: #ffffff;
      border-color: #ffffff;
      color: #000000;
    }

    .judul {
      margin-top: 30px;
      margin-bottom: 20px;
      font-weight: bold;
    }

    .series-info {
      margin-bottom: 20px;
      font-weight: bold;
    }

    .ulasan {
      margin-top: 30px;
    }
  </style>
</head>
<body>

<div class="container mt-4">
  <h1 class="mb-4 judul">Halaman Series</h1>

  <div class="series-info">
    <h2>Judul: <span id="judul-series">{{ series_details.judul }}</span></h2>
    <p>Episode:</p>
    <ul>
      {% for episode in series_details.episodes %}
      <li><a href="#">{{ episode.episode_title }}</a></li>
      {% endfor %}
    </ul>
    <button class="btn btn-unduh">Unduh</button>
    <button class="btn btn-favoritkan">Favoritkan</button>
    <p>Total View: <span id="total-view">{{ series_details.total_view }}</span></p>
    <p>Rating Rata-Rata: <span id="rating">{{ series_details.rating }}</span></p>
    <p>Sinopsis: <span id="sinopsis">{{ series_details.sinopsis }}</span></p>
    <p>Genre:</p>
    <ul>
      {% for genre in series_details.genres %}
      <li>{{ genre }}</li>
      {% endfor %}
    </ul>
    <p>Asal Negara: <span id="asal-negara">{{ series_details.asal_negara }}</span></p>
    <p>Pemain:</p>
    <ul>
      {% for pemain in series_details.pemain %}
      <li>{{ pemain }}</li>
      {% endfor %}
    </ul>
    <p>Penulis Skenario:</p>
    <ul>
      {% for penulis in series_details.penulis %}
      <li>{{ penulis }}</li>
      {% endfor %}
    </ul>
    <p>Sutradara: <span id="sutradara">{{ series_details.sutradara }}</span></p>
  </div>

  <!-- Bagian Ulasan -->
  <div class="container">
    <h2>Ulasan</h2>

    <form method="POST">
      {% csrf_token %}
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" class="form-control" id="username" name="username" required>
      </div>
      <div class="form-group">
        <label for="deskripsi">Deskripsi:</label>
        <input type="text" class="form-control" id="deskripsi" name="deskripsi" required>
      </div>
      <div>
        <label for="rating">Rating:</label>
        <select class="form-control" id="rating" name="rating" required>
          <option value="">Pilih Rating</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>
      <div>
        <button type="submit" class="btn btn-dark">Submit</button>
      </div>
    </form>

    <!-- Daftar Ulasan -->
    <h3>Daftar Ulasan</h3>
    <table class="table table-bordered table-custom">
      <thead>
        <tr>
          <th scope="col">Username</th>
          <th scope="col">Deskripsi</th>
          <th scope="col">Rating</th>
        </tr>
      </thead>
      <tbody>
        <!-- Isi tabel dengan data ulasan -->
        {% for ulasan in series_details.ulasan %}
        <tr>
          <td>{{ ulasan.username }}</td>
          <td>{{ ulasan.deskripsi }}</td>
          <td>{{ ulasan.rating }}</td>          
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</div>

<!-- Bootstrap JS (diperlukan jQuery) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
{% endblock content %}
